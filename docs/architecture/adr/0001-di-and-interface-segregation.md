# ADR 0001: Введение DI-слоя и сегрегация интерфейсов API

## Контекст

Проект зависит от широких интерфейсов Gitea и SonarQube и создаёт конкретные реализации клиентов на верхних слоях (`app`, `config`). Это затрудняет тестирование, нарушает DIP/ISP, повышает связанность.

## Решение

- Ввести слой DI/Providers для создания клиентов и сервисов.
- Разбить широкие интерфейсы на узкие роли по областям ответственности.
- Обновить сервисы для зависимости от узких интерфейсов.
- Принять `logging.StructuredLogger` как контракт логирования.

## Последствия

- Плюсы: повышенная тестируемость, расширяемость, уменьшение связанности, лучшее соблюдение SOLID.
- Минусы: временная сложность миграции, дополнительные адаптеры и фасады.

## Статус

Принято, постепенная миграция, обратная совместимость через фасад.