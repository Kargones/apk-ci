Проанализируй лог и исправь ошибку.
Если данных недостаточно для точного выявления проблемы добавь в нужных местах вывод логов с уровнем DEBUG.
Процесс ожидания завершения переключения веток завершился слишком быстро нужно ожидать не менее 60 минут перед тем как аварийно завершать процесс
25 сент. 2025 г., 14:03 GMT+3
{"time":"2025-09-25T14:03:01.655060301+03:00","level":"INFO","source":{"function":"github.com/Kargones/apk-ci/internal/config.(*Config).AnalyzeProject","file":"config.go","line":1437},"msg":"Результат анализа проекта","App info":{"version":"5.9.25.6:842bb4e-debug"},"project_name":"LIS","extensions":["апк_ИсправлениеНомера"]}
25 сент. 2025 г., 14:03 GMT+3
{"time":"2025-09-25T14:03:01.655122802+03:00","level":"DEBUG","source":{"function":"main.main","file":"main.go","line":26},"msg":"Информация о сборке","App info":{"version":"5.9.25.6:842bb4e-debug"},"version":"5.9.25.6:842bb4e-debug","commit_hash":"842bb4e"}
25 сент. 2025 г., 14:05 GMT+3
{"time":"2025-09-25T14:05:12.19630029+03:00","level":"DEBUG","source":{"function":"github.com/Kargones/apk-ci/internal/git.(*Git).Switch","file":"git.go","line":334},"msg":"Starting branch switch operation","App info":{"version":"5.9.25.6:842bb4e-debug"},"branch":"main","repo_path":"/tmp/4del/s731262773"}
25 сент. 2025 г., 14:05 GMT+3
2025/09/25 14:05:42 WARN Failed to wait for git index.lock release error="timeout waiting for git index.lock to be released: /tmp/4del/s731262773/.git/index.lock"
25 сент. 2025 г., 14:05 GMT+3
2025/09/25 14:05:42 INFO Обнаружена ошибка index.lock, ожидаем освобождения блокировки Попытка=1 "Максимум попыток"=3 Команда="checkout main"
25 сент. 2025 г., 14:06 GMT+3
2025/09/25 14:06:12 ERROR Не удалось дождаться освобождения файла блокировки Ошибка="timeout waiting for git index.lock to be released: /tmp/4del/s731262773/.git/index.lock" Путь=/tmp/4del/s731262773
25 сент. 2025 г., 14:06 GMT+3
2025/09/25 14:06:12 INFO Обнаружена ошибка index.lock, ожидаем освобождения блокировки Попытка=2 "Максимум попыток"=3 Команда="checkout main"
25 сент. 2025 г., 14:06 GMT+3
2025/09/25 14:06:42 ERROR Не удалось дождаться освобождения файла блокировки Ошибка="timeout waiting for git index.lock to be released: /tmp/4del/s731262773/.git/index.lock" Путь=/tmp/4del/s731262773
25 сент. 2025 г., 14:06 GMT+3
2025/09/25 14:06:43 ERROR Git команда завершилась с ошибкой (не связанной с index.lock) Попытка=3 Команда="checkout main" Вывод="fatal: Не удалось создать «/tmp/4del/s731262773/.git/index.lock»: Файл существует.\n\nПохоже, что другой процесс git запущен в этом репозитории,\nнапример редактор открыт из «git commit». Пожалуйста, убедитесь,\nчто все процессы были завершены и потом попробуйте снова.\nЕсли это не поможет, то возможно процесс git был ранее завершен\nс ошибкой в этом репозитории: \nудалите файл вручную для продолжения.\n"
25 сент. 2025 г., 14:06 GMT+3
2025/09/25 14:06:43 ERROR Не удалось переключиться на существующую ветку branch=main error="git command failed: fatal: Не удалось создать «/tmp/4del/s731262773/.git/index.lock»: Файл существует.\n\nПохоже, что другой процесс git запущен в этом репозитории,\nнапример редактор открыт из «git commit». Пожалуйста, убедитесь,\nчто все процессы были завершены и потом попробуйте снова.\nЕсли это не поможет, то возможно процесс git был ранее завершен\nс ошибкой в этом репозитории: \nудалите файл вручную для продолжения.\n"
25 сент. 2025 г., 14:06 GMT+3
{"time":"2025-09-25T14:06:43.225552377+03:00","level":"ERROR","source":{"function":"github.com/Kargones/apk-ci/internal/git.(*Git).Switch","file":"git.go","line":339},"msg":"Failed to switch or create branch","App info":{"version":"5.9.25.6:842bb4e-debug"},"error":"failed to switch to branch main: git command failed: fatal: Не удалось создать «/tmp/4del/s731262773/.git/index.lock»: Файл существует.\n\nПохоже, что другой процесс git запущен в этом репозитории,\nнапример редактор открыт из «git commit». Пожалуйста, убедитесь,\nчто все процессы были завершены и потом попробуйте снова.\nЕсли это не поможет, то возможно процесс git был ранее завершен\nс ошибкой в этом репозитории: \nудалите файл вручную для продолжения.\n","branch":"main","repo_path":"/tmp/4del/s731262773"}
25 сент. 2025 г., 14:06 GMT+3
{"time":"2025-09-25T14:06:43.225593077+03:00","level":"ERROR","source":{"function":"github.com/Kargones/apk-ci/internal/app.Convert","file":"app.go","line":92},"msg":"Ошибка переключения на ветку main","App info":{"version":"5.9.25.6:842bb4e-debug"},"Описание ошибки":"branch switch failed: failed to switch to branch main: git command failed: fatal: Не удалось создать «/tmp/4del/s731262773/.git/index.lock»: Файл существует.\n\nПохоже, что другой процесс git запущен в этом репозитории,\nнапример редактор открыт из «git commit». Пожалуйста, убедитесь,\nчто все процессы были завершены и потом попробуйте снова.\nЕсли это не поможет, то возможно процесс git был ранее завершен\nс ошибкой в этом репозитории: \nудалите файл вручную для продолжения.\n"}
25 сент. 2025 г., 14:06 GMT+3
{"time":"2025-09-25T14:06:43.225610177+03:00","level":"ERROR","source":{"function":"main.main","file":"main.go","line":43},"msg":"Ошибка конвертации","App info":{"version":"5.9.25.6:842bb4e-debug"},"Сообщение об ошибке":"branch switch failed: failed to switch to branch main: git command failed: fatal: Не удалось создать «/tmp/4del/s731262773/.git/index.lock»: Файл существует.\n\nПохоже, что другой процесс git запущен в этом репозитории,\nнапример редактор открыт из «git commit». Пожалуйста, убедитесь,\nчто все процессы были завершены и потом попробуйте снова.\nЕсли это не поможет, то возможно процесс git был ранее завершен\nс ошибкой в этом репозитории: \nудалите файл вручную для продолжения.\n","Обработка ошибки":"Завершение работы програмы"}